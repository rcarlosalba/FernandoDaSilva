{% load media_embed %}
{% if material.audio_url %}
<div class="w-full rounded-lg overflow-hidden mb-4">
    <div class="flex items-center gap-2 mb-2">
        <i class="fas fa-volume-up text-primary-400"></i>
        <span class="font-semibold text-gray-900">{{ material.title }}</span>
    </div>
    {% if 'spotify.com' in material.audio_url %}
        <iframe style="border-radius:12px" src="{{ material.audio_url|media_embed }}" width="100%" height="80" frameborder="0" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"></iframe>
    {% elif 'soundcloud.com' in material.audio_url %}
        <iframe width="100%" height="80" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url={{ material.audio_url|urlencode }}&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true"></iframe>
    {% elif material.audio_url|endswith:'.mp3,.ogg,.wav' %}
        <audio controls class="w-full">
            <source src="{{ material.audio_url }}">
            Tu navegador no soporta el elemento de audio.
        </audio>
    {% else %}
        <!-- Por defecto, intentar con audio HTML5 -->
        <audio controls class="w-full">
            <source src="{{ material.audio_url }}">
            Tu navegador no soporta el elemento de audio.
        </audio>
    {% endif %}
</div>
{% endif %} 
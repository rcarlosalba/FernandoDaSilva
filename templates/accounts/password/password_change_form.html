{% extends "base.html" %}
{% block content %}
<div class="max-w-lg mx-auto my-12 bg-white rounded-lg shadow p-8">
    <h1 class="title-main mb-2">Cambia tu contraseña</h1>
    <p class="text-sm text-gray-600 mb-6">Por tu seguridad, elige una contraseña robusta que no uses en otros sitios. Usa al menos 8 caracteres, combinando mayúsculas, minúsculas, números y símbolos.</p>
    <form method="post" novalidate>
        {% csrf_token %}
        {{ form.non_field_errors }}
        {% for field in form.visible_fields %}
            <div class="mb-6">
                <label for="{{ field.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
                    {% if field.name == 'old_password' %}Contraseña actual{% elif field.name == 'new_password1' %}Nueva contraseña{% elif field.name == 'new_password2' %}Confirmar nueva contraseña{% else %}{{ field.label }}{% endif %}
                    {% if field.field.required %}<span class="text-red-500">*</span>{% endif %}
                </label>
                {{ field }}
                {% if field.name == 'new_password1' %}
                    <ul class="mt-2 text-sm text-gray-500 list-disc list-inside">
                        <li>Tu contraseña no debe ser demasiado similar a tu información personal.</li>
                        <li>Debe contener al menos 8 caracteres.</li>
                        <li>No debe ser una contraseña comúnmente utilizada.</li>
                        <li>No debe ser completamente numérica.</li>
                    </ul>
                {% endif %}
                {% for error in field.errors %}
                    <p class="text-sm text-red-600 mt-1">{{ error }}</p>
                {% endfor %}
            </div>
        {% endfor %}
        <div class="flex justify-between">
            <button type="submit" class="w-full sm:w-auto px-6 py-2 bg-primary-600 text-white font-medium rounded-md shadow-sm hover:bg-brand-secondary focus:outline-none focus:ring-2 focus:ring-brand-primary focus:ring-offset-2 transition-colors duration-200 flex items-center justify-center">
                <i class="fas fa-save mr-2"></i>
                Guardar contraseña
            </button>
            <a href="{% url 'accounts:profile' %}" class="w-full sm:w-auto px-6 py-2 bg-gray-100 text-gray-700 font-medium rounded-md shadow-sm border border-gray-300 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors duration-200 flex items-center justify-center text-center">
                Cancelar
            </a>
        </div>
    </form>
</div>
{% endblock %} 